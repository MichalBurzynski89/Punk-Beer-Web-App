(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},20:function(e,t,a){e.exports=a(37)},25:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),s=a.n(c),o=(a(25),a(12)),i=a.n(o),u=a(18),l=a(16),m=a(5),f=a(6),d=a(10),h=a(7),v=a(11),p=a(39),g=a(40),_=a(38),E=a(41),b=(a(29),function(){return n.a.createElement("header",{className:"App__header"},n.a.createElement("h1",{className:"App__title"},"Who wants some beer?"),n.a.createElement("nav",{className:"App__nav"},n.a.createElement("ul",{className:"menu-list"},n.a.createElement("li",{className:"menu-list__item"},n.a.createElement(E.a,{className:"menu-list__link",exact:!0,to:"/"},"Home")),n.a.createElement("li",{className:"menu-list__item"},n.a.createElement(E.a,{className:"menu-list__link",to:"/favourites"},"Favourites")))))}),F=(a(34),function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={content:""},a.handleSubmit=function(e){e.preventDefault(),document.getElementById("searchInput").focus(),a.state.content&&(a.props.searchForBeer(a.state.content),a.setState({content:""}))},a.handleChange=function(e){a.setState({content:e.target.value})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{className:"search-form",onSubmit:this.handleSubmit},n.a.createElement("input",{className:"search-form__input",id:"searchInput",type:"search",placeholder:"Search for beer...",onChange:this.handleChange,value:this.state.content}),n.a.createElement("button",{className:"search-form__button",type:"submit"},"Search"))}}]),t}(r.Component)),w=function(e){return e.beers.map(function(t){return n.a.createElement("div",{className:"card",key:t.id},n.a.createElement("div",{className:"card__col"},n.a.createElement("img",{className:"card__img",src:t.imageURL,alt:t.name}),n.a.createElement("p",{className:"card__text card__text--sm"},"First brewed: ",t.firstBrewed)),n.a.createElement("div",{className:"card__content"},n.a.createElement("h2",{className:"card__title"},t.name),n.a.createElement("p",{className:"card__text card__text--gray"},t.tagline),n.a.createElement("p",{className:"card__text"},t.desc)),n.a.createElement("i",{className:t.isFavourite?"fas fa-star":"far fa-star",title:t.isFavourite?"Remove from Favourites":"Add to Favourites",onClick:function(a){return e.toggleFavourite(a,t.id)}}))})},N=(a(14),function(e){var t=e.beers,a=e.toggleFavourite,r=e.searchForBeer,c=t.length?n.a.createElement(w,{beers:t,toggleFavourite:a}):n.a.createElement("p",{className:"info"},"...Loading Beer!");return n.a.createElement("main",{className:"App__main"},n.a.createElement(F,{searchForBeer:r}),n.a.createElement("div",{className:"container"},c))}),k=function(e){var t=e.beers,a=e.toggleFavourite,r=t.length?n.a.createElement(w,{beers:t,toggleFavourite:a}):n.a.createElement("p",{className:"info"},"You have not added any beers to your Favourites yet!");return n.a.createElement("div",{className:"container"},r)},y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={items:[],favourites:localStorage.getItem("Favourites")?JSON.parse(localStorage.getItem("Favourites")):[],isLoaded:!1,error:null},a.toggleFavourite=function(){var e=Object(l.a)(i.a.mark(function e(t,r){var n,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.state.items.find(function(e){return e.id===r})).isFavourite?(t.target.className="far fa-star",t.target.setAttribute("title","Add to Favourites"),c=a.state.favourites.filter(function(e){return e.id!==r})):(t.target.className="fas fa-star",t.target.setAttribute("title","Remove from Favourites"),c=Object(u.a)(a.state.favourites).concat([n])),n.isFavourite=!n.isFavourite,e.next=5,a.setState({favourites:c});case 5:localStorage.setItem("Favourites",JSON.stringify(a.state.favourites));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.checkIfFavourite=function(e){return!!a.state.favourites.find(function(t){return t.id===e})},a.searchForBeer=function(e){var t=[];fetch("https://api.punkapi.com/v2/beers?beer_name=".concat(e,"&page=1&per_page=80")).then(function(e){if(e.ok)return e.json();throw new Error("The connection ended with status ".concat(e.status).concat(e.statusText?": "+e.statusText:""))}).then(function(e){if(!e.length)return alert("We're sorry, we could not find such a beer :(");e.forEach(function(e){var r={id:e.id,name:e.name,tagline:e.tagline,firstBrewed:e.first_brewed,desc:e.description,imageURL:e.image_url,isFavourite:a.checkIfFavourite(e.id)};t.push(r)}),a.setState({items:t})}).catch(function(e){a.setState({error:e}),alert(e)})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];fetch("https://api.punkapi.com/v2/beers?page=1&per_page=80").then(function(t){if(t.ok)return e.setState({isLoaded:!0}),t.json();throw new Error("The connection ended with status ".concat(t.status).concat(t.statusText?": "+t.statusText:""))}).then(function(a){a.forEach(function(a){var r={id:a.id,name:a.name,tagline:a.tagline,firstBrewed:a.first_brewed,desc:a.description,imageURL:a.image_url,isFavourite:e.checkIfFavourite(a.id)};t.push(r)}),e.setState({items:t})}).catch(function(t){e.setState({isLoaded:!0,error:t}),alert(t)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,r=t.favourites;return n.a.createElement(p.a,{basename:"/Punk-Beer-Web-App"},n.a.createElement("div",{className:"App"},n.a.createElement(b,null),n.a.createElement(g.a,null,n.a.createElement(_.a,{exact:!0,path:"/",render:function(){return n.a.createElement(N,{beers:a,toggleFavourite:e.toggleFavourite,searchForBeer:e.searchForBeer})}}),n.a.createElement(_.a,{path:"/favourites",render:function(){return n.a.createElement(k,{beers:r,toggleFavourite:e.toggleFavourite})}}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.d32dc90e.chunk.js.map